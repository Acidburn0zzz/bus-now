function showBusstopMap(o,s,t){function e(o){console.log("Selected Destination"),console.log(o);o.target.options.title;a()}function a(){hideDesMsg(),showArrMsg(),c.clearLayers(),showBusstopMap(o,s,"arr")}var r=0,n=UILang(),i=getBusstopList(),c=(new o.LayerGroup).addTo(s),l="arr"==t?"#318eff":"#ff0101";for(r=0;r<i[n].length;r++){var u=new Array;u[0]=parseFloat(i[n][r].x),u[1]=parseFloat(i[n][r].y);var p=i[n][r].id;o.circleMarker(u,{opacity:1,color:l,fillOpacity:1,title:p}).addTo(c).on("click",e),usedBusstops[p]=i[n][r]}}function checkLine(){return!0}function getBusstopList(){return JSON.parse(localStorage.busstops)}function UILang(){return"de"==navigator.language.substr(0,2)?"de":"it"}function loadBusstopsList(){localStorage.busstops||$.getJSON("data/busstops.json",function(o){localStorage.setItem("busstops",JSON.stringify(o))})}function hideDesMsg(){console.log("hide des"),$("#msg-des").removeClass("zero").addClass("left")}function showArrMsg(){console.log("show arr"),$("#msg-arr").removeClass("right").addClass("zero")}loadBusstopsList();var usedBusstops=new Object,coord=new Array;coord=[46.4838,11.336],function(o,s,t){"use strict";var e=t.map("map",{center:coord,zoom:16});t.tileLayer("http://{s}.tile.stamen.com/toner/{z}/{x}/{y}.png",{minZoom:12,maxZoom:18,attribution:'Map data Â© <a href="http://www.openstreetmap.org">OpenStreetMap contributors</a>'}).addTo(e),showBusstopMap(t,e)}(window,document,L);